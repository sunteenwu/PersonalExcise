<local:SharedBasePage
    x:Class="OneNoteServiceSamplesWinUniversal.HubPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:OneNoteServiceSamplesWinUniversal"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    DataContext="{Binding DefaultViewModel, RelativeSource={RelativeSource Self}}"
    d:DataContext="{Binding Source={d:DesignData Source=../OneNoteServiceSamplesWinUniversal.Shared/DataModel/SampleData.json, Type=data:SampleDataSource}}"
    xmlns:data="using:OneNoteServiceSamplesWinUniversal.Data"
    mc:Ignorable="d">

	<Page.Resources>
		<ResourceDictionary>
			<ResourceDictionary.ThemeDictionaries>
				<ResourceDictionary x:Key="Default">
					<ImageBrush x:Key="HubBackgroundImageBrush" ImageSource="Assets/HubBackground.png"/>
				</ResourceDictionary>
				<ResourceDictionary x:Key="HighContrast">
					<ImageBrush x:Key="HubBackgroundImageBrush" ImageSource="{x:Null}"/>
				</ResourceDictionary>
			</ResourceDictionary.ThemeDictionaries>

			<DataTemplate x:Key="HubSectionHeaderTemplate">
				<TextBlock Margin="0,0,0,-9.5" Text="{Binding}"/>
			</DataTemplate>

			<DataTemplate x:Key="StandardDoubleLineItemTemplate">
				<Grid>
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="Auto"/>
						<ColumnDefinition Width="Auto" MaxWidth="600"/>
					</Grid.ColumnDefinitions>

					<Border Background="{ThemeResource ListViewItemPlaceholderBackgroundThemeBrush}" Margin="0,9.5,0,0" Grid.Column="0" HorizontalAlignment="Left">
						<Image Source="{Binding ImagePath}" Stretch="UniformToFill" AutomationProperties.Name="{Binding Title}" Height="62" Width="35"/>
					</Border>
					<StackPanel Grid.Column="1" Margin="14.5,0,0,0">
						<TextBlock Text="{Binding Title}" Style="{ThemeResource ListViewItemTextBlockStyle}"/>
						<TextBlock Text="{Binding Description}" Style="{ThemeResource ListViewItemSubheaderTextBlockStyle}" TextWrapping="Wrap" TextTrimming="CharacterEllipsis"/>
					</StackPanel>
				</Grid>
			</DataTemplate>
		</ResourceDictionary>
	</Page.Resources>

	<Grid x:Name="LayoutRoot">
		<Grid.RowDefinitions>
			<RowDefinition Height="55"/>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="90"></ColumnDefinition>
			<ColumnDefinition Width="*"></ColumnDefinition>
		</Grid.ColumnDefinitions>
		<ToggleSwitch Grid.Row="0" x:Name="O365ToggleSwitch" Header="{Binding TappedEvent, ElementName=O365ToggleSwitch, Mode=OneWay}" HorizontalAlignment="Left" VerticalAlignment="Top" Width="224" OffContent="MSA" OnContent="O365" ToolTipService.ToolTip="Select the Authentication model" Toggled="O365ToggleSwitch_Toggled" 
					  RenderTransformOrigin="0.5,0.5" Margin="-21,-17,0,0" Grid.ColumnSpan="2" Background="{ThemeResource ToggleSwitchCurtainDisabledBackgroundThemeBrush}">
			<ToggleSwitch.RenderTransform>
				<CompositeTransform ScaleX="0.5" ScaleY="0.5"/>
			</ToggleSwitch.RenderTransform>
		</ToggleSwitch>
		<ToggleSwitch Grid.Row="0" Grid.Column="1" x:Name="UseBetaToggleSwitch" Header="{Binding TappedEvent, ElementName=UseBetaToggleSwitch, Mode=OneWay}" Margin="0,-17,-36,0" VerticalAlignment="Top" Width="229" OffContent="v1.0 API" OnContent="Beta API" ToolTipService.ToolTip="Select Beta vs v1.0 API route" Toggled="UseBetaToggleSwitch_Toggled" 
					  HorizontalAlignment="Right" RenderTransformOrigin="0.5,0.5" Background="{ThemeResource ToggleSwitchCurtainDisabledBackgroundThemeBrush}">
			<ToggleSwitch.RenderTransform>
				<CompositeTransform ScaleX="0.5" ScaleY="0.5"/>
			</ToggleSwitch.RenderTransform>
		</ToggleSwitch>
		<Hub Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2"
			x:Name="Hub" x:Uid="Hub" Header="OneNote API" Background="{ThemeResource HubBackgroundImageBrush}">
			<HubSection Header="Sections" DataContext="{Binding}" HeaderTemplate="{ThemeResource HubSectionHeaderTemplate}">
				<DataTemplate>
					<StackPanel>
						<ListView
                        ItemsSource="{Binding Groups}"
                        IsItemClickEnabled="True"
                        ItemClick="GroupSection_ItemClick"
                        ContinuumNavigationTransitionInfo.ExitElementContainer="True">
							<ListView.ItemTemplate>
								<DataTemplate>
									<StackPanel Margin="0,0,0,27.5">
										<TextBlock Text="{Binding Title}" Style="{ThemeResource ListViewItemTextBlockStyle}" TextTrimming="CharacterEllipsis" />
									</StackPanel>
								</DataTemplate>
							</ListView.ItemTemplate>
						</ListView>
					</StackPanel>
				</DataTemplate>
			</HubSection>

			<HubSection Header="Create Pages" Width="Auto" MaxWidth="600"
                         DataContext="{Binding Groups[0]}" HeaderTemplate="{ThemeResource HubSectionHeaderTemplate}">
				<DataTemplate>
					<ListView 
                        SelectionMode="None"
                        IsItemClickEnabled="True"
                        ItemsSource="{Binding Items}"
                        ItemTemplate="{StaticResource StandardDoubleLineItemTemplate}"
                        ItemClick="ItemView_ItemClick"
                        ContinuumNavigationTransitionInfo.ExitElementContainer="True">
					</ListView>
				</DataTemplate>
			</HubSection>

			<HubSection Header="Query and Search Pages" Width="Auto" MaxWidth="600"
                        DataContext="{Binding Groups[1]}" HeaderTemplate="{ThemeResource HubSectionHeaderTemplate}">
				<DataTemplate>
					<ListView 
                        SelectionMode="None"
                        IsItemClickEnabled="True"
                        ItemsSource="{Binding Items}"
                        ItemTemplate="{StaticResource StandardDoubleLineItemTemplate}"
                        ItemClick="ItemView_ItemClick"
                        ContinuumNavigationTransitionInfo.ExitElementContainer="True">
					</ListView>
				</DataTemplate>
			</HubSection>

			<HubSection Header="Manage Notebooks and Sections" Width="Auto" MaxWidth="600"
                        DataContext="{Binding Groups[2]}" HeaderTemplate="{ThemeResource HubSectionHeaderTemplate}">
				<DataTemplate>
					<ListView 
                        SelectionMode="None"
                        IsItemClickEnabled="True"
                        ItemsSource="{Binding Items}"
                        ItemTemplate="{StaticResource StandardDoubleLineItemTemplate}"
                        ItemClick="ItemView_ItemClick"
                        ContinuumNavigationTransitionInfo.ExitElementContainer="True">
					</ListView>
				</DataTemplate>
			</HubSection>

			<HubSection Header="Update Pages" MaxWidth="600"
                        DataContext="{Binding Groups[3]}" HeaderTemplate="{ThemeResource HubSectionHeaderTemplate}">
				<DataTemplate>
					<ListView 
                        SelectionMode="None"
                        IsItemClickEnabled="True"
                        ItemsSource="{Binding Items}"
                        ItemTemplate="{StaticResource StandardDoubleLineItemTemplate}"
                        ItemClick="ItemView_ItemClick"
                        ContinuumNavigationTransitionInfo.ExitElementContainer="True">
					</ListView>
				</DataTemplate>
			</HubSection>
			<HubSection Header="Delete Pages" MaxWidth="600"
                        DataContext="{Binding Groups[4]}" HeaderTemplate="{ThemeResource HubSectionHeaderTemplate}">
				<DataTemplate>
					<ListView 
                        SelectionMode="None"
                        IsItemClickEnabled="True"
                        ItemsSource="{Binding Items}"
                        ItemTemplate="{StaticResource StandardDoubleLineItemTemplate}"
                        ItemClick="ItemView_ItemClick"
                        ContinuumNavigationTransitionInfo.ExitElementContainer="True">
					</ListView>
				</DataTemplate>
			</HubSection>
		</Hub>
	</Grid>
</local:SharedBasePage>